<form name="streamForm" ng-submit="submitStreams()" xd-form-autofocus>
    <div class="modal-header">
        <button type="button" class="close" ng-click="cancel()">&times;</button>
        <h4 class="modal-title">Confirm Stream(s) Creation</h4>
    </div>
    <div class="modal-body">
        <div ng-if="errors && errors.length" class="dialog-validation">
            <div ng-repeat="error in errors">
                <label class="glyphicon glyphicon-exclamation-sign dialog-error-sign"></label>
                <label>{{error}}</label>
            </div>
        </div>
        <div ng-if="!(errors && errors.length) && warnings && warnings.length" class="dialog-validation">
            <div ng-repeat="warning in warnings">
                <label class="glyphicon glyphicon-warning-sign dialog-warning-sign"></label>
                <label>{{warning}}</label>
            </div>
        </div>
        <p>This action will create stream(s):</p>
        <table class="table table-striped table-hover" style="table-layout: fixed;">
            <col width="200px"/>
            <col width="auto"/>
            <tbody>
            <tr ng-repeat="def in streamdefs" ng-if="!def.created">
                <td>
                    <input name="{{'stream-' + $index}}" type="text" placeholder="<Stream Name>" ng-model="def.name" ng-pattern="/^\s*[\w\-]+\s*$/"
                           ng-trim="true" required style="width:100%;"/>
                </td>
                <td style="vertical-align:middle;">
                    <div class="crop">{{def.def}}</div>
                </td>
            </tr>
            </tbody>
        </table>
        <label class="dialog-control"><input type="checkbox" ng-model="deploy"/>Deploy stream(s)</label>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>
        <button type="button" class="btn btn-primary"
                ng-disabled="!canSubmit()"
                ng-click="createStreams()">Create
        </button>
        <!--
        Invisible submit button. Can use Create button because it changes its enabled state which prevents from submitting with invalid data.
        Ability to Submit with invalid data is necessary to focus from fields that are invalid on submit
        -->
        <input autofocus type="submit" style="position: absolute; left: -9999px; width: 1px; height: 1px;"/>
    </div>
</form>
